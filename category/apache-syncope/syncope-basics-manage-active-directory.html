<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:dfutils="xalan://net.tirasa.utils.DateFormatUtils" xmlns:java="http://xml.apache.org/xslt/java" xmlns:str="http://xsltsl.org/string" xmlns:g="http://base.google.com/ns/1.0" xmlns:i18n="http://apache.org/cocoon/i18n/3.0" itemtype="http://schema.org/Article" itemscope="" prefix="og: http://ogp.me/ns#" lang="en_US">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Tirasa Blog - Syncope Basics: Manage Active Directory</title>
<meta content="Apache Syncope and Active Directory, an enduring relationship born years ago" name="description">
<meta content="noodp" name="robots">
<link href="http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html" rel="canonical">
<link href="http://www.google.com/+TirasaNet/about" rel="publisher">
<meta content="Tirasa Blog - Syncope Basics: Manage Active Directory" itemprop="name">
<meta content="Apache Syncope and Active Directory, an enduring relationship born years ago" itemprop="description">
<meta content="Apache Syncope and Active Directory, an enduring relationship born years ago" itemprop="headline">
<meta content="http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html" itemprop="url">
<meta content="2017-09-12 00:00:00" itemprop="dateModified">
<meta content="2017-09-12 00:00:00" itemprop="datePublished">
<span itemtype="https://schema.org/Corporation" itemscope="" itemprop="publisher"><span itemtype="https://schema.org/ImageObject" itemscope="" itemprop="logo">
<meta content="http://tirasa.github.io/www/images/logo.png" itemprop="url">
</span>
<meta content="Tirasa" itemprop="name">
</span>
<meta content="summary" name="twitter:card">
<meta content="@TirasaNet" name="twitter:site">
<meta content="Tirasa Blog - Syncope Basics: Manage Active Directory" name="twitter:title">
<meta content="Apache Syncope and Active Directory, an enduring relationship born years ago" name="twitter:description">
<meta content="@TirasaNet" name="twitter:creator">
<meta content="http://tirasa.github.io/blog/gallery/tirasa/blog/abc.png" name="twitter:image">
<meta content="Tirasa Blog - Syncope Basics: Manage Active Directory" property="og:title">
<meta content="en_US" property="og:locale">
<meta content="article" property="og:type">
<meta content="http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html" property="og:url">
<meta content="http://tirasa.github.io/blog/gallery/tirasa/blog/abc.png" property="og:image">
<meta content="Apache Syncope and Active Directory, an enduring relationship born years ago" property="og:description">
<meta content="Tirasa" property="og:site_name">
<meta content="2017-09-12 00:00:00" property="article:published_time">
<meta content="2017-09-12 00:00:00" property="article:modified_time">
<meta content="252836668438434" property="fb:app_id">
<meta charset="UTF-8">
<link type="image/vnd.microsoft.icon" href="images/favicon.png" rel="shortcut icon">
<meta content="off" http-equiv="x-dns-prefetch-control">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<link media="all" type="text/css" rel="stylesheet" href="css/main.css">
<link media="all" type="text/css" rel="stylesheet" href="css/custom.css">
<link media="all" type="text/css" rel="stylesheet" href="css/mediaqueries.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
<link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700">
<link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Loved+by+the+King">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script><script src="js/jquery-latest.min.js"></script><script src="js/jquery-ui.min.js"></script><script src="js/jquery-mobilemenu.min.js"></script><script src="js/jquery.cookiesdirective.js"></script><script src="js/js.cookie.js"></script><script src="js/custom.js"></script><script src="js/highslide.js"></script><script type="text/javascript">
      hs.graphicsDir = 'css/graphics/';

      jQuery.noConflict()(function ($) {
        $("#accordion").accordion({
          active: false,
          collapsible: true,
          heightStyle: "content"
        });
        if (location.hash) {
          var tabIndex = parseInt(window.location.hash.substring(1));
          $("#accordion").accordion('option', 'active', tabIndex);
        }

        $(document).ready(function() {
          $.cookiesDirective({
            position: 'bottom',
            duration: 10,
	    linkColor: '#9293c8',
            backgroundOpacity: '90',
      
            privacyPolicyUri: 'http://tirasa.github.io/www/privacy-policy.html',
	    message: 'This site uses cookies. Some of the cookies we use are essential for parts of the site to operate and have already been set. ',
	    multipleCookieScriptBeginningLabel: ' We use ',
	    and: ' and ',
	    multipleCookieScriptEndLabel: ' scripts, which all set cookies. ',			
	    singleCookieScriptBeginningLabel: ' We use a ',
	    singleCookieScriptEndLabel: ' script which sets cookies.',			
	    explicitCookieDeletionWarning: 'You may delete and block all cookies from this site, but parts of the site will not work. ',
  	    explicitFindOutMore: 'To find out more about cookies on this website, see our',
	    privacyPolicyLinkText: ' privacy policy',
	    explicitCheckboxLabel: 'You must tick the "I accept cookies from this site" box to accept',
	    explicitCookieAcceptanceLabel: 'I accept cookies from this site',
	    explicitCookieAcceptButtonText: 'Continue',
	    impliedDisclosureText: ' More details can be found in our',
	    impliedSubmitText: 'Do not show this message again'
        
          });
        });
      });
    </script>
<link media="all" href="css/highslide.css" type="text/css" rel="stylesheet">
<link media="all" href="css/accordion.css" type="text/css" rel="stylesheet">
<link href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" rel="stylesheet">
<script type="text/javascript">
          var disqus_config = function () {
            this.page.url = 'http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html';
            this.page.identifier = 'http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html';
          };
          (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '//tirasa.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
</head>
<body>
<div xmlns:hct="http://tirasa.github.io/www/hct/1.0" class="wrapper row0">
<div id="header" class="full_width clear">
<ul class="list none" style="margin: 0px;text-align: right;color: white;font-family: 'Montserrat';font-size: 12px;padding-top: 0.25%;;width: 100%;min-height: 17px;"></ul>
</div>
</div>
<script xmlns:gcse="uri:google-did-not-provide-a-real-ns">
      (function() {
      var cx = '007564373758891836797:-tjr10bo51c';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
      })();
    </script>
<div style="padding-bottom: 15px;padding-top: 15px;" class="wrapper row1">
<header class="full_width clear" id="header">
<div style="position: relative;float: left;">
<h1 style="margin-bottom: 0;">
<a href="http://tirasa.github.io/www"><img style="width: 200px; margin-top: 1.5%; margin-right: 10px;" src="images/logo.png"></a>
</h1>
</div>
<div id="topnav">
<ul class="clear">
<li>
<a class="drop" style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/index.html">Products &amp; Solutions</a>
<ul>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/apache-syncope.html">Apache Syncope</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/identity-access-management.html">Identity &amp; Access Management</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/content-management-system.html">Enterprise Content Management</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/open-source.html">Open Source</a>
</li>
</ul>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/support.html"></a>
</li>
<li>
<a style="width: 120%;color: #9293c8;" href="http://tirasa.github.io/blog/index.html">Blog</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/customers.html">Customers</a>
</li>
<li>
<a class="drop" style="width: 120%;" href="http://tirasa.github.io/www/mission-vision.html">Who we are</a>
<ul>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/mission-vision.html">Mission &amp; Vision</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/aboutus.html">Team</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/contacts.html">Contact</a>
</li>
</ul>
</li>
</ul>
</div>
<div class="social_header">
<div id="social">
<a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="https://github.com/Tirasa"><img alt="github" src="images/github_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="https://twitter.com/TirasaNet"><img alt="twitter" src="images/twitter.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://www.linkedin.com/company/2164993"><img alt="linkedin" src="images/linkedin_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://www.facebook.com/tirasasrl"><img alt="facebook" src="images/facebook_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px" href="http://www.google.com/+TirasaNet"><img alt="g+" src="images/google_plus.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="mailto:info@tirasa.net"><img alt="send an email" src="images/email.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://tirasa.github.io/www/rss.xml"><img alt="Blog Post" src="images/feed.png"></a>
</div>
<div id="search">
<div resultsUrl="http://jsfiddle.net/devnook/2PC2f/6/show_html/" class="gcse-search"></div>
</div>
</div>
</header>
</div>
<div class="wrapper row3">
<div id="container">
    
<div style="margin-bottom: 50px;" class="three_quarter first contentbackground">
<div id="missionvision">
<section class="clear">12 Sep 2017<div style="border-top: 1px dotted #9293c8">&nbsp;</div>
<h3 style="margin:0px; color: #9293c8;">Syncope Basics: Manage Active Directory</h3>
<p>Written by<a href="/author/apatricelli/index.html"><i> apatricelli</i></a>
</p>
<div style="display: none;" id="date">12 Sep 2017</div>
<div style="display: none;" id="summary">Apache Syncope and Active Directory, an enduring relationship born years ago</div>
<img style="margin: 10px;" align="right" src="/gallery/tirasa/blog/abc.png"><h4>Prerequisite:
Upgrade Syncope to 2.0.5 </h4>
<p>In order to take some benefits from the latest release of Syncope, this guide
is based on Apache Syncope 2.0.5.</p>
<p>You can still follow the steps described in the
<a href="/syncope-basics-manage-external-db.html">first post</a> of this "Syncope
Basics" serie;&nbsp;the only difference will be in the first command where you should
replace "-DarchetypeVersion=2.0.<strong>4</strong>" with
"-DarchetypeVersion=2.0.<strong>5</strong>", or you might want to follow the
proposed
<a target="_blank" href="https://cwiki.apache.org/confluence/display/SYNCOPE/Upgrade+from+2.0.4+to+2.0.5">upgrade
path</a>.</p>
<h4>Step 1: Add Pull Actions to pull memberships </h4>
<p>Memberships won't be pulled without adding an ad-hoc
<a title="Pull Actions" target="_blank" href="https://syncope.apache.org/docs/reference-guide.html#pullactions">Pull
Actions</a>&nbsp;class.</p>
<p>The simplest way to implement your pull action is to extend
"org.apache.syncope.core.provisioning.java.pushpull.LDAPMembershipPullActions"
and override the "getGroupMembershipAttrName()" method.</p>
<p>This method mast return the value of the connector configuration property
"groupMemberReferenceAttribute".</p>
<p>See the sample below:</p>
<pre class="prettyprint">@Override
protected String getGroupMembershipAttrName(final Connector connector) {

     ConnConfProperty groupMembership = IterableUtils.find(connector.getConnInstance().getConf(),
              new Predicate&lt;ConnConfProperty&gt;() {

          @Override
          public boolean evaluate(final ConnConfProperty property) {
              return "groupMemberReferenceAttribute".equals(property.getSchema().getName())
                    &amp;&amp; property.getValues() != null &amp;&amp; !property.getValues().isEmpty();
           }
     });

     return groupMembership == null ? "member" : groupMembership.getValues().get(0).toString();
}
</pre>
<p>Make sure your class has the correct package
"org.apache.syncope.core.provisioning.java.pushpull" (see
<a title="Syncope Customization" target="_blank" href="https://syncope.apache.org/docs/reference-guide.html#customization">here</a>
for more info).</p>
<p>Then, simply rebuild and restart Syncope.</p>
<h4>Step 2: Create and configure your Active Directory connector instance </h4>
<p>Go under Topology and click on your preferred connector location (local, for
example "file://"... or remote like "connid://testconnectorserver@host:4554");
then click the "Add new connector" button on the right.</p>
<p>Set a name as "Display name", make sure the "Location" of your Active
Directory (JNDI) connector bundle is correct.</p>
<p>Click "next" and configure your connector instance as below:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_2.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_3.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_3.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_4.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_4.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_5.1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_5.1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_connector_membership_5.2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_connector_membership_5.2.png:thumbnail"></a>
<p>Move to the next tab ("Capabilities") and choose the preferred ones.</p>
<p>At last, click the "Finish" button.</p>
<h4>Step 3: Configure your Active Directory external resource </h4>
<p>Click on Active Directory connector and then select "Add new resource".</p>
<p>Set the name you like and set other resource attributes.</p>
<p>
<strong>IMPORTANT</strong>: you have to add the
"LDAPMembershipPropagationActions" action class to the resource, otherwise
memberships would not get propagated:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_resource_membership_0.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_resource_membership_0.png:thumbnail"></a>

</p>
<p>Click "Next", optionally override "Capabilities" and then "Finish".</p>
<p>Click on the just created resource and select "Edit provisioning rules".
Click the "+" button, choose the "Object Type" and define a mapping for that
specific "Object Type" by clicking on "Next" button.</p>
<p>Configure mappings (USER / GROUP mapping) between Syncope user / groups
attributes and Active Directory user / groups attributes.</p>
<p>For USER:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_resource_membership_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_resource_membership_1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_resource_membership_2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_resource_membership_2.png:thumbnail"></a>
<p>For GROUP:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_resource_membership_3.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_resource_membership_3.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_resource_membership_4.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_resource_membership_4.png:thumbnail"></a>
<p>After that click the "Save" button.</p>
<h4>Step 4: Propagation testing </h4>
<p>With the above configuration Syncope is ready to manage users and groups on
Active Directory.</p>
<p>Let's start by creating some samples that will be
<a target="_blank" href="https://syncope.apache.org/docs/reference-guide.html#propagation">propagated</a>
to AD:</p>
<ul>

<li>create user&nbsp;<strong>user1</strong>, fill all required information and assign
the AD resource to it: you will find the AD entry
"<em>CN=user1,CN=Users,DC=tirasa,DC=net</em>".</li>

<li>create group&nbsp;<strong>test_AD_group_3</strong>&nbsp;and assign the AD resource to
it: you will find the AD entry
"<em>CN=test_AD_group_3,CN=Users,DC=tirasa,dc=net</em>".</li>

<li>create user <strong>test_membership</strong>&nbsp;and assign it to group
<strong>test_AD_group_3</strong>: you will find
<em>"CN=test_membership,CN=Users,DC=tirasa,DC=net</em>" among members attribute
values of "<em>CN=test_AD_group_3,CN=Users,DC=tirasa,dc=net</em>" and,
viceversa, "<em>CN=test_AD_group_3,CN=Users,DC=tirasa,dc=net</em>" among
"<em>memberOf</em>" attribute values of
"<em>CN=test_memebership,CN=Users,DC=tirasa,DC=net</em>", as you can see below:
<br>

<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_result.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_result.png:thumbnail"></a>
</li>

</ul>
<p>It is possible to see the results on your AD resource from Syncope console by
clicking on the resource and selecting "Explore resource":</p>
<p>for USER...
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_user_membership_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_user_membership_1.png:thumbnail"></a> and
GROUP <a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_group_membership_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_group_membership_1.png:thumbnail"></a>

</p>
<h4>Step 5: Synchronization testing </h4>
<p>Some additional configuration is needed for enabling
<a title="Pull Tasks" target="_blank" href="https://syncope.apache.org/docs/reference-guide.html#tasks-pull">synchronization</a>,
e.g. in this case the ability to pull data from an external Active Directory
resource.</p>
<p>Go to "Topology", select the AD resource and click on "Pull tasks". Then add
a new pull task by clicking the "+" button.</p>
<p>Set name and description as you like, choose the class provided at the
<strong>step 1</strong> from "Actions" list and set the other elements as in the
images below:&nbsp;</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_pull_task_1.png"><img style="margin: 10px;" width="60" height="22" src="/gallery/tirasa/blog/ad_pull_task_1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_pull_task_1.1.png"><img style="margin: 10px;" width="60" height="22" src="/gallery/tirasa/blog/ad_pull_task_1.1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_pull_task_2.png"><img style="margin: 10px;" width="60" height="22" src="/gallery/tirasa/blog/ad_pull_task_2.png:thumbnail"></a>
<p>At this point, Syncope is ready to manage users and groups from Active
Directory.</p>
<p>
<strong>IMPORTANT</strong>: if you are <strong>not</strong> performing a
"Full Reconciliation", execute the created Pull Task once in order to initialize
the "latestSyncToken" at the current date.</p>
<p>Create some sample users and groups in Active Directory, then go back to
Syncope Admin Console and execute the "Pull Task" again: you will find users,
groups and memberships in Syncope, created according to data provided in Active
Directory.</p>
<p>One remarkable test you can do is to delete all previously created users and
groups in Syncope (be careful not to delete those in AD too, so it is important
that the AD resource in Syncope does <strong>not</strong> have the "DELETE"
capability) and just execute the pull task. <br>
You'll see all users and groups in Syncope and a more noticeable thing would be
that all memberships will be synched too:</p>
<p>To check the memberships, go to "Realms" -&gt; "Groups", click
<strong>test_AD_group_3</strong> and select "members" to check that:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_pull_task_memberships_result.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_pull_task_memberships_result.png:thumbnail"></a>
<h4>Advanced:
Pull Organizational Units as Syncope Realms </h4>
<p>Let's start by creating some "ou" in your AD and add some users / groups to
them, somthing like this:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pull_ou0.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pull_ou0.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pull_ou1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pull_ou1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pull_ou2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pull_ou2.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pull_ou2_group02_members.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pull_ou2_group02_members.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pull_ou3.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pull_ou3.png:thumbnail"></a>
<p>Now, go to Syncope Admin Console and edit your connector by enabling the
"Override?" checkbox for the following elements :</p>
<ul>

<li>
<strong>Root suffixes</strong>
</li>

<li>
<strong>Base contexts for group entry searches</strong> (this is necessary
only if you use the AD connector v1.3.3 due to an
<a target="_blank" href="https://connid.atlassian.net/browse/AD-59">issue</a>, it was fixed from
v1.3.4 so if you want to use v1.3.4 you have to edit main parent "pom.xml", add
the property: "&lt;connid.ad.version&gt;1.3.4&lt;/connid.ad.version&gt;" inside
the "&lt;properties&gt; ... &lt;/properties&gt;" tag and rebuild)</li>

<li>
<strong>Default Uid</strong>
</li>

<li>
<strong>Uid Attribute</strong>
</li>

</ul>
<p>like this:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_override_option.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_override_option.png:thumbnail"></a>
<p>Now, create a new resource and give it a name like "AD_realms". Leave all
fields as they are except for the text fields in the second step of the creation
wizard, you should fill them like this:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_resource.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_resource.png:thumbnail"></a>
<p>Edit the "Provision rules" of the resource in order to provide a correct
mapping for Realms:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_resource_provisionrule_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_resource_provisionrule_1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_resource_provisionrule_2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_resource_provisionrule_2.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_resource_provisionrule_3.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_resource_provisionrule_3.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_resource_provisionrule_4.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_resource_provisionrule_4.png:thumbnail"></a>
<p>Now it is the moment to create the Pull Task to actually import realms from
AD to Syncope.</p>
<p>Before doing that, you must define a Java class to teach Syncope how to
follow the correct realms relationship and structure as it is in AD. So, let's
create the class "ADRealmsPullActions" with
<a target="_blank" href="https://github.com/Tirasa/syncopeWithActiveDirectory/blob/master/core/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/ADRealmsPullActions.java">this</a>
content.</p>
<p>For this tutorial purpose that class should be placed in the
"org.apache.syncope.core.provisioning.java.pushpull" package, as above.</p>
<p>We can now create the Pull Task and link that action class to it:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pulltask_realms_1.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pulltask_realms_1.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pulltask_realms_2.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pulltask_realms_2.png:thumbnail"></a><a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pulltask_realms_3.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pulltask_realms_3.png:thumbnail"></a>
<p>At this point you should see something like this in the "Realms" section in
Syncope:</p>
<a onclick="return hs.expand(this)" class="highslide" href="/gallery/tirasa/blog/ad_realms_pulltask_result.png"><img style="margin: 10px;" src="/gallery/tirasa/blog/ad_realms_pulltask_result.png:thumbnail"></a>
<h4>
How to test </h4>
<p>I have prepared a
<a target="_blank" href="https://github.com/Tirasa/syncopeWithActiveDirectory/">sample
project</a> for this purpose: assuming to have GIT and Maven properly
configured:</p>
<pre class="prettyprint">$ git clone https://github.com/Tirasa/syncopeWithActiveDirectory.git
$ mvn -P all clean install
$ cd enduser
$ mvn -P embedded,all
</pre>
<p>Point your browser to
<a target="_blank" href="http://localhost:9080/syncope-console">http://localhost:9080/syncope-console</a>

</p>
<h4> Exercise: pull users and groups from "Realms" to Syncope </h4>
<p>At this point you should be capable to try something by yourself. Check again
the screenshots at the beginning of the "Advanced section" above and focus on
the users and groups I have created as samples. Play with resource / connector
configurations in order to succeed in pulling those from "Realms" ou in AD to
Syncope.</p>
<a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html&title=Syncope Basics: Manage Active Directory&summary=Apache Syncope and Active Directory, an enduring relationship born years ago"><img alt="" src="images/linkedin_square_color-24.png"></a>&nbsp;
          <a target="_blank" href="https://twitter.com/intent/tweet?url=http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html&text=Syncope Basics: Manage Active Directory"><img alt="" src="images/twitter_square-24.png"></a>&nbsp;
          <a target="_blank" href="https://facebook.com/sharer.php?u=http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html"><img alt="" src="images/facebook_square-24.png"></a>&nbsp;
          <a target="_blank" href="https://plus.google.com/share?url=http://tirasa.github.io/blog/syncope-basics-manage-active-directory.html"><img alt="" src="images/google_square-24.png"></a>&nbsp;
          <ul class="list tagcloud rnd8">
<li>
<a href="/tags/apache+syncope/index.html">apache syncope</a>
</li>
<li>
<a href="/tags/identity+management/index.html">identity management</a>
</li>
<li>
<a href="/tags/tutorial/index.html">tutorial</a>
</li>
<li>
<a href="/tags/active+directory/index.html">active directory</a>
</li>
</ul>
<div id="disqus_thread"></div>
<p class="more">
<a href="/index.html">&laquo; Return</a>
</p>
</section>
</div>
</div>
  
<div id="sidebar_1" class="sidebar one_quarter">
<aside>
<h2>Menu</h2>
<nav>
<ul>
<li>
<a href="http://tirasa.github.io/www">Home</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/index.html">Business Proposition</a>
<ul>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/apache-syncope.html">Apache Syncope</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/identity-access-management.html">Identity &amp; Access Management</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/content-management-system.html">Enterprise Content Management</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/open-source.html">Open Source</a>
</li>
</ul>
</li>
<li>
<a title="customers" href="#" class="drop disable_link">Who we are</a>
<ul>
<li>
<a style="" href="http://tirasa.github.io/www/mission-vision.html">Mission &amp; Vision</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/aboutus.html">Team</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/contacts.html">Contact</a>
</li>
</ul>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/customers.html">Customers</a>
</li>
<li>
<a style="width: 120%;color: #9293c8;" href="http://tirasa.github.io/blog/index.html">Blog</a>
</li>
</ul>
</nav>
</aside>
<aside>
<h2>Link</h2>
<nav>
<ul>
<li>
<a target="_blank" href="http://connid.tirasa.net/">ConnId</a>
</li>
<li>
<a target="_blank" href="http://hct.tirasa.net/">Hippo Cocoon Toolkit</a>
</li>
<li>
<a target="_blank" href="https://github.com/Tirasa/">Tirasa on GitHub</a>
</li>
</ul>
</nav>
</aside>
    
<aside>
<h2>Categories</h2>
<nav>
<ul>
<li>
<a href="/category/apache-syncope/index.html">Apache Syncope</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/connid/index.html">ConnId</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/identity-management/index.html">Identity Management</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/access-management/index.html">Access Management</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/open-source/index.html">Open Source</a>
<ul style="list-style-type: none;">
<li>
<a href="/category/open-source/apache/index.html">Apache</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/open-source/linux/index.html">Linux</a>
<ul style="list-style-type: none;">
<li>
<a href="/category/open-source/linux/bash-scripting/index.html">Bash Scripting</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="/category/codeexp/index.html">DevOps</a>
<ul style="list-style-type: none;">
<li>
<a href="/category/codeexp/maven/index.html">Maven</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/java/index.html">Java</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/jexl/index.html">Jexl</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/technology/index.html">Technology</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/openjpa/index.html">OpenJPA</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/ldap/index.html">ldap</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/active-directory/index.html">Active Directory</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/codeexp/security/index.html">security</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
<li>
<a href="/category/uncategorized/index.html">Uncategorized</a>
<ul style="list-style-type: none;">
<li>
<a href="/category/uncategorized/estemporanea/index.html">Estemporanea</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/category/uncategorized/idee/index.html">Idee</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
</ul>
</nav>
</aside>
    
<aside xmlns:math="http://exslt.org/math">
<h2>Tag Cloud</h2>
<div class="tags">
<li class="tag1">
<a class="nuv" href="/tags/OpenID+Connect/index.html">OpenID Connect</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/SAML/index.html">SAML</a>
</li>
<li class="tag3">
<a class="nuv" href="/tags/active+directory/index.html">active directory</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/activiti/index.html">activiti</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/apache+cocoon/index.html">apache cocoon</a>
</li>
<li class="tag9">
<a class="nuv" href="/tags/apache+syncope/index.html">apache syncope</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/apache+wicket/index.html">apache wicket</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/asf/index.html">asf</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/assign/index.html">assign</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/azure/index.html">azure</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/certificate/index.html">certificate</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/client/index.html">client</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/connector/index.html">connector</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/connid/index.html">connid</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/console/index.html">console</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/cxf/index.html">cxf</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/exchange/index.html">exchange</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/federation/index.html">federation</a>
</li>
<li class="tag5">
<a class="nuv" href="/tags/identity+management/index.html">identity management</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/interface/index.html">interface</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/java/index.html">java</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/javascript/index.html">javascript</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/ldap/index.html">ldap</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/linux/index.html">linux</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/maven/index.html">maven</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/microsoft/index.html">microsoft</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/notification/index.html">notification</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/openjpa/index.html">openjpa</a>
</li>
<li class="tag5">
<a class="nuv" href="/tags/opensource/index.html">opensource</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/openssl/index.html">openssl</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/password/index.html">password</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/password+reset/index.html">password reset</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/policy/index.html">policy</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/powershell/index.html">powershell</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/propagation/index.html">propagation</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/quartz/index.html">quartz</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/release/index.html">release</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/resource/index.html">resource</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/rest/index.html">rest</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/roles/index.html">roles</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/scim/index.html">scim</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/security/index.html">security</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/self-registration/index.html">self-registration</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/self-service/index.html">self-service</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/spring/index.html">spring</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/ssl/index.html">ssl</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/sso/index.html">sso</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/synchronization/index.html">synchronization</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/tirasa/index.html">tirasa</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/tls/index.html">tls</a>
</li>
<li class="tag2">
<a class="nuv" href="/tags/tutorial/index.html">tutorial</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/users/index.html">users</a>
</li>
<li class="tag1">
<a class="nuv" href="/tags/workflow/index.html">workflow</a>
</li>
</div>
</aside>
  
</div>
<div class="clear"></div>
</div>
</div>
<div style="margin-top: 25px; margin-bottom: 25px;" class="wrapper row4">
<div class="clear" id="footer">
    
<div style="margin-bottom: 20px;" class="three_quarter">
<div style="padding-top: 10px;">
<h3>
<a href="http://tirasa.github.io/www/news/index.html">Latest Updates</a><a target="_blank" style="color:#d6d5d5;padding-left:5px;" href="http://www.tirasa.net/rss.xml"><img style="width:20px;padding-bottom:5px" alt="Tirasa RSS" src="images/feed.png"></a>
</h3>
<div class="owl-carousel" id="hshop-slider" style="border-bottom: 1px solid rgba(145,165,180,.6)">
<div class="item">
<div class="left-item">
<img src="/gallery/tirasa/blog/notification.png"></div>
<div class="right-item">
<a href="/apache-syncope-notification-e-mails.html" class="purple">
<h5 class="item-title">Apache Syncope Notification E-mails</h5>
</a>
<p style="color: white;">How to configure Apache Syncope to send notification e-mails</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="/gallery/tirasa/blog/validation-icon.png"></div>
<div class="right-item">
<a href="/add-custom-validation-to-syncope-console.html" class="purple">
<h5 class="item-title">Add custom validation to Apache Syncope Admin Console</h5>
</a>
<p style="color: white;">Apache Syncope already provides powerful, tunable attribute validators, enforced by the Core back-end: what about customizing front-end validation?</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="/gallery/tirasa/blog/postgresql.png"></div>
<div class="right-item">
<a href="/benchmarking-apache-syncope-on-postgresql.html" class="purple">
<h5 class="item-title">Benchmarking Apache Syncope on PostgreSQL</h5>
</a>
<p style="color: white;">We put the latest Apache Syncope and PostgreSQL on the bench to try and push to the limit: here are the results</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/connectpa-logo.png"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/connectpa.html" class="purple">
<h5 class="item-title">ConnectPA is starting</h5>
</a>
<p style="color: white;">Tirasa joins Maggioli, Metron and University of L'Aquila to shepherd the Italian Public Administration towards Cloud services</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/plainid.png"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/tirasa-supports-plainid-in-its-dynamic-authorization-integrate-solution.html" class="purple">
<h5 class="item-title">Tirasa supports PlainID in its dynamic authorization integrate solution</h5>
</a>
<p style="color: white;">PlainID and Tirasa announced the release of a PlainID Dynamic Authorization integrate solution, to enhance its Authorization management capabilities</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/ulss6.jpg"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/yet-another-helthcare-organization-relies-on-tirasa.html" class="purple">
<h5 class="item-title">Yet another healthcare organization relies on Tirasa for IAM</h5>
</a>
<p style="color: white;">AULSS 6 Euganea of Padua makes standard-based Open Source user management and IT authorization</p>
</div>
</div>
</div>
</div>
</div>
    
<div class="one_quarter">
  
<div style="padding-top: 10px;">
    
<a class="twitter-timeline" data-height="400" data-theme="light" href="https://twitter.com/TirasaNet?ref_src=twsrc%5Etfw">Tweets by TirasaNet</a> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  
</div>

</div>
  
</div>
</div>
<div style="background-color: #9293c8;" class="wrapper row2">
<div id="footer" class="clear">
<div class="one_third">
<p class="fl_left" style="font-size: 0.7em;">Tirasa S.r.l. - P.I. 01974100685<br>Powered by <a style="color: whitesmoke" href="http://hct.tirasa.net/" target="_blank">Hippo Cocoon Toolkit</a>
<br>
<a style="color: whitesmoke" href="http://tirasa.github.io/www/privacy-policy.html">Privacy Policy</a>
</p>
</div>
<div class="one_third">
<p style="font-size: 0.7em;">Apache, Syncope, Apache Syncope and the Apache Syncope logo are trademarks of The Apache Software Foundation.</p>
</div>
<script type="text/javascript">
          function year() {
          var theDate=new Date()
          document.write(theDate.getFullYear())}
        </script>
<div class="one_third">
<p class="fl_right" style="font-size: 0.7em;text-align:right;">Copyright &copy; 2011-
            <script type="text/javascript">
              var theDate=new Date();    
              document.write(theDate.getFullYear());
            </script>
            Tirasa S.r.l.<br>All rights reserved<br>Follow our <a style="color: whitesmoke" href="http://tirasa.github.io/www/tirasagram.html">Bot</a> on <a style="color: whitesmoke" href="https://twitter.com/TirasaGram">Twitter</a>
</p>
</div>
</div>
</div>
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://stats.tirasa.net/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "6"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
</body>
</html>
