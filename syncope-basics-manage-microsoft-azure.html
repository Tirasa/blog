<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:dfutils="xalan://net.tirasa.utils.DateFormatUtils" xmlns:java="http://xml.apache.org/xslt/java" xmlns:str="http://xsltsl.org/string" xmlns:g="http://base.google.com/ns/1.0" xmlns:i18n="http://apache.org/cocoon/i18n/3.0" itemtype="http://schema.org/Article" itemscope="" prefix="og: http://ogp.me/ns#" lang="en_US">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Tirasa Blog - Syncope Basics: Manage Microsoft Azure</title>
<meta content="How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD" name="description">
<meta content="noodp" name="robots">
<link href="http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html" rel="canonical">
<link href="http://www.google.com/+TirasaNet/about" rel="publisher">
<meta content="Tirasa Blog - Syncope Basics: Manage Microsoft Azure" itemprop="name">
<meta content="How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD" itemprop="description">
<meta content="How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD" itemprop="headline">
<meta content="http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html" itemprop="url">
<meta content="2018-03-23 00:00:00" itemprop="dateModified">
<meta content="2018-03-23 00:00:00" itemprop="datePublished">
<span itemtype="https://schema.org/Corporation" itemscope="" itemprop="publisher"><span itemtype="https://schema.org/ImageObject" itemscope="" itemprop="logo">
<meta content="http://tirasa.github.io/www/images/logo.png" itemprop="url">
</span>
<meta content="Tirasa" itemprop="name">
</span>
<meta content="summary" name="twitter:card">
<meta content="@TirasaNet" name="twitter:site">
<meta content="Tirasa Blog - Syncope Basics: Manage Microsoft Azure" name="twitter:title">
<meta content="How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD" name="twitter:description">
<meta content="@TirasaNet" name="twitter:creator">
<meta content="http://tirasa.github.io/blog/gallery/tirasa/blog/abc.png" name="twitter:image">
<meta content="Tirasa Blog - Syncope Basics: Manage Microsoft Azure" property="og:title">
<meta content="en_US" property="og:locale">
<meta content="article" property="og:type">
<meta content="http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html" property="og:url">
<meta content="http://tirasa.github.io/blog/gallery/tirasa/blog/abc.png" property="og:image">
<meta content="How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD" property="og:description">
<meta content="Tirasa" property="og:site_name">
<meta content="2018-03-23 00:00:00" property="article:published_time">
<meta content="2018-03-23 00:00:00" property="article:modified_time">
<meta content="252836668438434" property="fb:app_id">
<meta charset="UTF-8">
<link type="image/vnd.microsoft.icon" href="images/favicon.png" rel="shortcut icon">
<meta content="off" http-equiv="x-dns-prefetch-control">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<link media="all" type="text/css" rel="stylesheet" href="css/main.css">
<link media="all" type="text/css" rel="stylesheet" href="css/custom.css">
<link media="all" type="text/css" rel="stylesheet" href="css/mediaqueries.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
<link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700">
<link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Loved+by+the+King">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script><script src="js/jquery-latest.min.js"></script><script src="js/jquery-ui.min.js"></script><script src="js/jquery-mobilemenu.min.js"></script><script src="js/jquery.cookiesdirective.js"></script><script src="js/js.cookie.js"></script><script src="js/custom.js"></script><script src="js/highslide.js"></script><script type="text/javascript">
      hs.graphicsDir = 'css/graphics/';

      jQuery.noConflict()(function ($) {
        $("#accordion").accordion({
          active: false,
          collapsible: true,
          heightStyle: "content"
        });
        if (location.hash) {
          var tabIndex = parseInt(window.location.hash.substring(1));
          $("#accordion").accordion('option', 'active', tabIndex);
        }

        $(document).ready(function() {
          $.cookiesDirective({
            position: 'bottom',
            duration: 10,
	    linkColor: '#9293c8',
            backgroundOpacity: '90',
      
            privacyPolicyUri: 'http://tirasa.github.io/www/privacy-policy.html',
	    message: 'This site uses cookies. Some of the cookies we use are essential for parts of the site to operate and have already been set. ',
	    multipleCookieScriptBeginningLabel: ' We use ',
	    and: ' and ',
	    multipleCookieScriptEndLabel: ' scripts, which all set cookies. ',			
	    singleCookieScriptBeginningLabel: ' We use a ',
	    singleCookieScriptEndLabel: ' script which sets cookies.',			
	    explicitCookieDeletionWarning: 'You may delete and block all cookies from this site, but parts of the site will not work. ',
  	    explicitFindOutMore: 'To find out more about cookies on this website, see our',
	    privacyPolicyLinkText: ' privacy policy',
	    explicitCheckboxLabel: 'You must tick the "I accept cookies from this site" box to accept',
	    explicitCookieAcceptanceLabel: 'I accept cookies from this site',
	    explicitCookieAcceptButtonText: 'Continue',
	    impliedDisclosureText: ' More details can be found in our',
	    impliedSubmitText: 'Do not show this message again'
        
          });
        });
      });
    </script>
<link media="all" href="css/highslide.css" type="text/css" rel="stylesheet">
<link media="all" href="css/accordion.css" type="text/css" rel="stylesheet">
<link href="/blog//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" rel="stylesheet">
<script type="text/javascript">
          var disqus_config = function () {
            this.page.url = 'http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html';
            this.page.identifier = 'http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html';
          };
          (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '//tirasa.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
</head>
<body>
<div xmlns:hct="http://tirasa.github.io/www/hct/1.0" class="wrapper row0">
<div id="header" class="full_width clear">
<ul class="list none" style="margin: 0px;text-align: right;color: white;font-family: 'Montserrat';font-size: 12px;padding-top: 0.25%;;width: 100%;min-height: 17px;"></ul>
</div>
</div>
<script xmlns:gcse="uri:google-did-not-provide-a-real-ns">
      (function() {
      var cx = '007564373758891836797:-tjr10bo51c';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
      })();
    </script>
<div style="padding-bottom: 15px;padding-top: 15px;" class="wrapper row1">
<header class="full_width clear" id="header">
<div style="position: relative;float: left;">
<h1 style="margin-bottom: 0;">
<a href="http://tirasa.github.io/www"><img style="width: 200px; margin-top: 1.5%; margin-right: 10px;" src="images/logo.png"></a>
</h1>
</div>
<div id="topnav">
<ul class="clear">
<li>
<a class="drop" style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/index.html">Products &amp; Solutions</a>
<ul>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/apache-syncope.html">Apache Syncope</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/identity-access-management.html">Identity &amp; Access Management</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/content-management-system.html">Enterprise Content Management</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/businessproposition/open-source.html">Open Source</a>
</li>
</ul>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/support.html"></a>
</li>
<li>
<a style="width: 120%;color: #9293c8;" href="http://tirasa.github.io/blog/index.html">Blog</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/customers.html">Customers</a>
</li>
<li>
<a class="drop" style="width: 120%;" href="http://tirasa.github.io/www/mission-vision.html">Who we are</a>
<ul>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/mission-vision.html">Mission &amp; Vision</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/aboutus.html">Team</a>
</li>
<li>
<a style="width: 120%;" href="http://tirasa.github.io/www/contacts.html">Contact</a>
</li>
</ul>
</li>
</ul>
</div>
<div class="social_header">
<div id="social">
<a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="https://github.com/Tirasa"><img alt="github" src="images/github_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="https://twitter.com/TirasaNet"><img alt="twitter" src="images/twitter.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://www.linkedin.com/company/2164993"><img alt="linkedin" src="images/linkedin_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://www.facebook.com/tirasasrl"><img alt="facebook" src="images/facebook_alt.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px" href="http://www.google.com/+TirasaNet"><img alt="g+" src="images/google_plus.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="mailto:info@tirasa.net"><img alt="send an email" src="images/email.png"></a><a target="_blank" style="color:#d6d5d5;padding-right:3px;" href="http://tirasa.github.io/www/rss.xml"><img alt="Blog Post" src="images/feed.png"></a>
</div>
<div id="search">
<div resultsUrl="http://jsfiddle.net/devnook/2PC2f/6/show_html/" class="gcse-search"></div>
</div>
</div>
</header>
</div>
<div class="wrapper row3">
<div id="container">
    
<div style="margin-bottom: 50px;" class="three_quarter first contentbackground">
<div id="missionvision">
<section class="clear">23 Mar 2018<div style="border-top: 1px dotted #9293c8">&nbsp;</div>
<h3 style="margin:0px; color: #9293c8;">Syncope Basics: Manage Microsoft Azure</h3>
<p>Written by<a href="/blog/author/malessandroni/index.html"><i> malessandroni</i></a>
</p>
<div style="display: none;" id="date">23 Mar 2018</div>
<div style="display: none;" id="summary">How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD</div>
<p>
<img style="margin: 10px;" align="right" src="/www//gallery/tirasa/blog/abc.png"> We
recently developed and released the
<a title="Azure connector" target="_blank" href="https://connid.atlassian.net/wiki/spaces/BASE/pages/308674561/Azure">
Azure connector </a> as part of the
<a title="ConnId project" target="_blank" href="http://connid.tirasa.net/">ConnId
project</a>. This bundle is used to connect the
<a title="Microsoft Azure AD" target="_blank" href="https://azure.microsoft.com/en-us/services/active-directory/">Microsoft
Azure AD</a> to Apache Syncope.</p>
<hr>
<p>
<img style="margin: 10px;" src="/www//gallery/tirasa/blog/sponsor.png"> The development of
this connector's first stable version has been sponsored by
<a target="_blank" href="https://www.iwelcome.com/">iWelcome</a>, the leading European IDaaS
provider.</p>
<hr>
<p>Here I'm going to show how to use it on Syncope <em>2.0.8</em>.</p>
<p>First of all, you should follow the "Prerequisites" instructions on
<a title="Azure connector wiki page" target="_blank" href="https://connid.atlassian.net/wiki/spaces/BASE/pages/308674561/Azure#Azure-Prerequisites">Azure
connector wiki page</a> on how to configure Azure AD.</p>
<h2> Create project from maven archetype </h2>
<p>The new connector is available by default from Syncope
<em>2.0.9-SNAPSHOT</em>, but in this guide I'll show you how to use it in our
Syncope latest stable release (<em>2.0.8</em>); so let's start creating a simple
Apache Syncope <em>2.0.8</em> project from archetype:</p>
<pre class="prettyprint">$ mvn archetype:generate \
-DarchetypeGroupId=org.apache.syncope \
-DarchetypeArtifactId=syncope-archetype \
-DarchetypeRepository=http://repo1.maven.org/maven2 \
-DarchetypeVersion=2.0.8
</pre>
<p>By default, the embedded mode is populated with example data. <br>
In order to be more clear, I'll work on a fresh Syncope instance; so if you want
to do the same, you can remove example data by running the following commands:
</p>
<pre class="prettyprint">$ cd [CREATED_PROJECT_FOLDER]
$ cp core/src/main/resources/domains/MasterContent.xml core/src/test/resources/domains/MasterContent.xml
</pre>
<h2> Add Azure connector dependency to Syncope bundles list </h2>
<p>To add the Azure bundle dependency to <em>2.0.8</em> project you'll need to
edit root "pom.xml" file and add the
"<strong>net.tirasa.connid.bundles.azure</strong>" dependency. <br>
So from project main folder, edit the pom.xml file by frist adding:</p>
<pre class="prettyprint">&lt;properties&gt;
  ...
  &lt;connid.azure.version&gt;1.0.0&lt;/connid.azure.version&gt;
  ...
&lt;/properties&gt;
</pre>
<p>then also adding the "maven-dependency-plugin" as you can see
<a target="_blank" href="https://github.com/apache/syncope/blob/2_0_X/pom.xml#L1803-L1863">here</a>
and remember to insert that content under:</p>
<pre class="prettyprint">&lt;pluginManagement&gt;
  &lt;plugins&gt;
	...
  &lt;/plugins&gt;
&lt;/pluginManagement&gt;
</pre>
<h2> Run Syncope in embedded mode </h2>
<p>From the project root dir, run:</p>
<pre class="prettyprint">$ mvn -P all clean install &amp;&amp; cd enduser &amp;&amp; mvn -P embedded,all
</pre>
<p>Open
<a target="_blank" href="http://localhost:9080/syncope-console">http://localhost:9080/syncope-console</a>
and you'll access the <strong>Syncope Admin Console</strong>.</p>
<p>Login to Admin Console using the default "admin" / "password" credentials.
</p>
<h2> Set up an Azure external resource </h2>
<p>Go to "Topology" and add a new connector (see image below):</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/addazureconnector1.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/addazureconnector1.png:thumbnail"></a>
</p>
<p>You'll be able to see the new Azure bundle, so choose
"net.tirasa.connid.bundles.azure" from "Bundle" list and fill the other required
fields:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azurebundle.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azurebundle.png:thumbnail"></a>
</p>
<p>Click on "Next" button and enter the Azure service configuration by filling
the required parameters (you can find more info about it on related
<a target="_blank" href="https://connid.atlassian.net/wiki/spaces/BASE/pages/308674561/Azure#Azure-Configuration">ConnId
Azure connector wiki page</a>), here is an example:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/addazureconnector2.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/addazureconnector2.png:thumbnail"></a>
</p>
<p>Click on "Next" button again, select connector Capabilities (AUTHENTICATE and
SYNC are not supported as you can see
<a target="_blank" href="https://connid.atlassian.net/wiki/spaces/BASE/pages/308674561/Azure#Azure-Supportedoperations">here</a>)
and click on "Finish":</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/addazureconnector3.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/addazureconnector3.png:thumbnail"></a>
</p>
<p>Now you are ready to create the Azure external resource. <br>
Click on the just created connector and choose "Add new resource" from right
menu:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/addazureres.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/addazureres.png:thumbnail"></a>
</p>
<h3> Dealing with the "objectId" attribute, returned by Azure service upon User
/ Group creations </h3>
<p>At this point, since we are using Syncope <em>2.0.8</em>, we need to manually
add the Azure PropagationActions to Syncope project (the related file already
exists in Syncope project from version <em>2.0.9-SNAPSHOT</em> by default) in
order to let Syncope save the Users / Groups ID returned by Azure Service upon
creations.</p>
<p>You need to create the
"<a target="_blank" href="https://github.com/apache/syncope/blob/2_0_X/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java">org.apache.syncope.core.provisioning.java.propagation.AzurePropagationActions</a>"
file and link it to "AzureRes" resource.</p>
<p>So, just run the following commands to create and edit a new file with that
name:</p>
<pre class="prettyprint">$ mkdir -p ./core/src/main/java/org/apache/syncope/core/provisioning/java/propagation/ &amp;&amp; vim ./core/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java
</pre>
<p>copy &amp; paste the content of the file above (
<a target="_blank" href="https://raw.githubusercontent.com/apache/syncope/2_0_X/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java">AzurePropagationActions.java</a>).
</p>
<p>Then stop Syncope, re-build and re-start it. <br>
When it'll be ready, you'll be able to add the "AzurePropagationActions" to
Azure resource. <br>
So just click on resource node and select "Edit resource" from menu:</p>
<p>

<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/addazurerespropagationactions.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/addazurerespropagationactions.png:thumbnail"></a>

</p>
<h2> Add some required Plain Schemas </h2>
<p>From the Admin Console, go to "Configuration" (left panel) -&gt; "Types"
-&gt; "Schemas"; in the "PLAIN" accordion panel click on the "+" icon. <br>
Create the "AzureUserId" schema:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azureschemauser.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azureschemauser.png:thumbnail"></a>
</p>
<p>We must add it to "BaseUser" AnyTypeClass in order to have it available for
"USER" AnyType.</p>
<p>To do that, select the "AnyTypeClasses" tab, click on "BaseUser" row and
choose "edit" from right menu. <br>
Add "AzureUserId" to "Selected" sub-panel, in "Plain Schemas" section:</p>
<p>

<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azureschemauseranytypeclass.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azureschemauseranytypeclass.png:thumbnail"></a>

</p>
<p>Do the same for "AzureGroupId". <br>
The only difference in this case is that the schema must be added to "BaseGroup"
AnyTypeClass, it will be used for "GROUP" AnyType indeed.</p>
<h2> Add provision rules for "USER" and "GROUP" </h2>
<p>Now we need to set some provision rules to map Azure AD attributes to Syncope
attributes.</p>
<p>Click on the "AzureRes" node in "Topology" and choose "Edit provision rules"
from right menu.</p>
<p>From the just opened modal window, click on "+" icon and select "USER", then
click "Next" in the wizard until you'll get to "Mapping" step. <br>
Now, you can choose a mapping configuration, e.g.</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azureusermapping.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azureusermapping.png:thumbnail"></a>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azuregroupmapping.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azuregroupmapping.png:thumbnail"></a>
</p>
<h3> Configuration test </h3>
<p>You can run a simple basic test by exploring the resource and make Syncope
retrieve all Users / Groups you have in Azure AD.</p>
<p>Click on the "AzureRes" node from "Topology" and choose "Explore resource"
from menu.</p>
<p>Select "USER" or "GROUP" from the dropdown on top of the modal window and
you'll see some users / groups, in case you have any on the Azure AD. <br>
Here you can see an example:</p>
<p>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azureuserexplore.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azureuserexplore.png:thumbnail"></a>
<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/azuregroupexplore.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/azuregroupexplore.png:thumbnail"></a>
</p>
<h3> About Azure AD required attributes </h3>
<p>Note that there are some required attributes that a User or Group must have
before being created on Azure AD. <br>
Here is the lists:</p>
<p>for Users:</p>
<ul>

<li>displayName (String)</li>

<li>mailNickname (String)</li>

<li>passwordProfile (PasswordProfile - It's simply handled as User password</li>

<li>userPrincipalName (String) - If not specified, it will be in the form:
"[mailNickname@AZURE_DOMAIN]"</li>

</ul>
<p>for Groups:</p>
<ul>

<li>displayName (String)</li>

<li>mailNickname (String)</li>

</ul>
<h2> Sample project </h2>
<p>I have created a
<a target="_blank" href="https://github.com/Tirasa/syncopeWithAzure">sample
project</a> according to this guide. <br>
Assuming you have Git and Maven properly configured, run:</p>
<pre class="prettyprint">$ git clone https://github.com/Tirasa/syncopeWithAzure.git
$ cd syncopeWithAzure/
$ mvn -P all clean install &amp;&amp; cd enduser &amp;&amp; mvn -P embedded,all
</pre>
<p>Now you can point your browser to
<a target="_blank" href="http://localhost:9080/syncope-console">http://localhost:9080/syncope-console</a>
and start you tests.</p>
<h2>Update Syncope 2.1 - Dealing with the "objectId" attribute, returned by
Azure service upon User / Group creations </h2>
<p>After the release of Syncope 2.1 an improvement was made to the logic for all
those connectors that need to save the value of some attribute coming from the
specific resource service upon creating an entity to provision on it. <br>
All that logic from the PropagationActions classes
("<a target="_blank" href="https://github.com/apache/syncope/blob/2_0_X/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java">org.apache.syncope.core.provisioning.java.propagation.AzurePropagationActions</a>"
for Azure bundle) was removed.</p>
<p>Check the difference between
<a target="_blank" href="https://github.com/apache/syncope/blob/2_0_X/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java">AzurePropagationActions
Syncope 2.0.x</a> and
<a target="_blank" href="https://github.com/apache/syncope/blob/2_1_X/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java">AzurePropagationActions
Syncope 2.1.x</a>
</p>
<p>Now, since the "PropagationActions" files were minimized, what else do I need
to do for Syncope 2.1? <br>
Well, it is pretty simple! <br>
You just need to open the resource mapping and you'll see a new field: <br>

<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/2_1_xusermapping.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/2_1_xusermapping.png:thumbnail"></a> 
<br>
Enter the previously created required schemas ("AzureUserId" for "USER" AnyType
and "AzureGroupId" for "GROUP" AnyType) in that field, to handle the returned
value from the Azure service.</p>
<p>Most of the connectors were used to have a PropagationActions class only to
handle the returned attribute value from service. <br>
For those ones, as said before, the PropagationActions class was removed in
Syncope 2.1. <br>
About the Azure bundle, instead, the "AzurePropagationActions" is still required
to manage other stuff. According to new way Syncope 2.1 manage
PropagationActions and other java implementations, to be able to link a
PropagationActions class to a resource you first need to use the new
"Implementations" section. <br>
Go to Admin Console, on the left panel click "Configuration" -&gt;
"Implementations" -&gt; "PROPAGATION_ACTIONS" tab and add the
"org.apache.syncope.core.provisioning.java.propagation.AzurePropagationActions"
JAVA class: <br>

<a onclick="return hs.expand(this)" class="highslide" href="/blog/gallery/tirasa/blog/2_1_ximplementationpropagationactions.png"><img style="margin: 10px;" src="/blog/gallery/tirasa/blog/2_1_ximplementationpropagationactions.png:thumbnail"></a>

</p>
<p>Done, that's all! <br>
To summarize the all process:</p>
<ul>

<li>create schemas to handle the attribute values returned by the service;</li>

<li>add those schemas to the new field in resource mapping (<em>Schema to hold
values for identifiers generated upon Create by the external Identity
Store</em>);</li>

<li>add the "[SCHEMA_NAME]" -&gt; "__UID__" mapping item with "Remote Key" flag;
</li>

<li>add the "AzurePropagationActions" JAVA implementation and add link it to
resource.</li>

</ul>
<a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html&title=Syncope Basics: Manage Microsoft Azure&summary=How to configure Apache Syncope to provision Users and Groups to Microsoft Azure AD"><img alt="" src="images/linkedin_square_color-24.png"></a>&nbsp;
          <a target="_blank" href="https://twitter.com/intent/tweet?url=http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html&text=Syncope Basics: Manage Microsoft Azure"><img alt="" src="images/twitter_square-24.png"></a>&nbsp;
          <a target="_blank" href="https://facebook.com/sharer.php?u=http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html"><img alt="" src="images/facebook_square-24.png"></a>&nbsp;
          <a target="_blank" href="https://plus.google.com/share?url=http://tirasa.github.io/blog/syncope-basics-manage-microsoft-azure.html"><img alt="" src="images/google_square-24.png"></a>&nbsp;
          <ul class="list tagcloud rnd8">
<li>
<a href="/blog/tags/apache+syncope/index.html">apache syncope</a>
</li>
<li>
<a href="/blog/tags/azure/index.html">azure</a>
</li>
<li>
<a href="/blog/tags/identity+management/index.html">identity management</a>
</li>
<li>
<a href="/blog/tags/tutorial/index.html">tutorial</a>
</li>
</ul>
<div id="disqus_thread"></div>
<p class="more">
<a href="/blog/index.html">&laquo; Return</a>
</p>
</section>
</div>
</div>
  
<div id="sidebar_1" class="sidebar one_quarter">
<aside>
<h2>Menu</h2>
<nav>
<ul>
<li>
<a href="http://tirasa.github.io/www">Home</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/index.html">Business Proposition</a>
<ul>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/apache-syncope.html">Apache Syncope</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/identity-access-management.html">Identity &amp; Access Management</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/content-management-system.html">Enterprise Content Management</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/businessproposition/open-source.html">Open Source</a>
</li>
</ul>
</li>
<li>
<a title="customers" href="#" class="drop disable_link">Who we are</a>
<ul>
<li>
<a style="" href="http://tirasa.github.io/www/mission-vision.html">Mission &amp; Vision</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/aboutus.html">Team</a>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/contacts.html">Contact</a>
</li>
</ul>
</li>
<li>
<a style="" href="http://tirasa.github.io/www/customers.html">Customers</a>
</li>
<li>
<a style="width: 120%;color: #9293c8;" href="http://tirasa.github.io/blog/index.html">Blog</a>
</li>
</ul>
</nav>
</aside>
<aside>
<h2>Link</h2>
<nav>
<ul>
<li>
<a target="_blank" href="http://connid.tirasa.net/">ConnId</a>
</li>
<li>
<a target="_blank" href="http://hct.tirasa.net/">Hippo Cocoon Toolkit</a>
</li>
<li>
<a target="_blank" href="https://github.com/Tirasa/">Tirasa on GitHub</a>
</li>
</ul>
</nav>
</aside>
    
<aside>
<h2>Categories</h2>
<nav>
<ul>
<li>
<a href="/blog/category/apache-syncope/index.html">Apache Syncope</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/connid/index.html">ConnId</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/identity-management/index.html">Identity Management</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/access-management/index.html">Access Management</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/open-source/index.html">Open Source</a>
<ul style="list-style-type: none;">
<li>
<a href="/blog/category/open-source/apache/index.html">Apache</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/open-source/linux/index.html">Linux</a>
<ul style="list-style-type: none;">
<li>
<a href="/blog/category/open-source/linux/bash-scripting/index.html">Bash Scripting</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="/blog/category/codeexp/index.html">DevOps</a>
<ul style="list-style-type: none;">
<li>
<a href="/blog/category/codeexp/maven/index.html">Maven</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/java/index.html">Java</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/jexl/index.html">Jexl</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/technology/index.html">Technology</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/openjpa/index.html">OpenJPA</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/ldap/index.html">ldap</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/active-directory/index.html">Active Directory</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/codeexp/security/index.html">security</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
<li>
<a href="/blog/category/uncategorized/index.html">Uncategorized</a>
<ul style="list-style-type: none;">
<li>
<a href="/blog/category/uncategorized/estemporanea/index.html">Estemporanea</a>
<ul style="list-style-type: none;"></ul>
</li>
<li>
<a href="/blog/category/uncategorized/idee/index.html">Idee</a>
<ul style="list-style-type: none;"></ul>
</li>
</ul>
</li>
</ul>
</nav>
</aside>
    
<aside xmlns:math="http://exslt.org/math">
<h2>Tag Cloud</h2>
<div class="tags">
<li class="tag1">
<a class="nuv" href="/blog/tags/OpenID+Connect/index.html">OpenID Connect</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/SAML/index.html">SAML</a>
</li>
<li class="tag3">
<a class="nuv" href="/blog/tags/active+directory/index.html">active directory</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/activiti/index.html">activiti</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/apache+cocoon/index.html">apache cocoon</a>
</li>
<li class="tag9">
<a class="nuv" href="/blog/tags/apache+syncope/index.html">apache syncope</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/apache+wicket/index.html">apache wicket</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/asf/index.html">asf</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/assign/index.html">assign</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/azure/index.html">azure</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/certificate/index.html">certificate</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/client/index.html">client</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/connector/index.html">connector</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/connid/index.html">connid</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/console/index.html">console</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/cxf/index.html">cxf</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/exchange/index.html">exchange</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/federation/index.html">federation</a>
</li>
<li class="tag5">
<a class="nuv" href="/blog/tags/identity+management/index.html">identity management</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/interface/index.html">interface</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/java/index.html">java</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/javascript/index.html">javascript</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/ldap/index.html">ldap</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/linux/index.html">linux</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/maven/index.html">maven</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/microsoft/index.html">microsoft</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/notification/index.html">notification</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/openjpa/index.html">openjpa</a>
</li>
<li class="tag5">
<a class="nuv" href="/blog/tags/opensource/index.html">opensource</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/openssl/index.html">openssl</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/password/index.html">password</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/password+reset/index.html">password reset</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/policy/index.html">policy</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/powershell/index.html">powershell</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/propagation/index.html">propagation</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/quartz/index.html">quartz</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/release/index.html">release</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/resource/index.html">resource</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/rest/index.html">rest</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/roles/index.html">roles</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/scim/index.html">scim</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/security/index.html">security</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/self-registration/index.html">self-registration</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/self-service/index.html">self-service</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/spring/index.html">spring</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/ssl/index.html">ssl</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/sso/index.html">sso</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/synchronization/index.html">synchronization</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/tirasa/index.html">tirasa</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/tls/index.html">tls</a>
</li>
<li class="tag2">
<a class="nuv" href="/blog/tags/tutorial/index.html">tutorial</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/users/index.html">users</a>
</li>
<li class="tag1">
<a class="nuv" href="/blog/tags/workflow/index.html">workflow</a>
</li>
</div>
</aside>
  
</div>
<div class="clear"></div>
</div>
</div>
<div style="margin-top: 25px; margin-bottom: 25px;" class="wrapper row4">
<div class="clear" id="footer">
    
<div style="margin-bottom: 20px;" class="three_quarter">
<div style="padding-top: 10px;">
<h3>
<a href="http://tirasa.github.io/www/news/index.html">Latest Updates</a><a target="_blank" style="color:#d6d5d5;padding-left:5px;" href="http://www.tirasa.net/rss.xml"><img style="width:20px;padding-bottom:5px" alt="Tirasa RSS" src="images/feed.png"></a>
</h3>
<div class="owl-carousel" id="hshop-slider" style="border-bottom: 1px solid rgba(145,165,180,.6)">
<div class="item">
<div class="left-item">
<img src="/www//gallery/tirasa/blog/notification.png"></div>
<div class="right-item">
<a href="/blog/apache-syncope-notification-e-mails.html" class="purple">
<h5 class="item-title">Apache Syncope Notification E-mails</h5>
</a>
<p style="color: white;">How to configure Apache Syncope to send notification e-mails</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="/www//gallery/tirasa/blog/validation-icon.png"></div>
<div class="right-item">
<a href="/blog/add-custom-validation-to-syncope-console.html" class="purple">
<h5 class="item-title">Add custom validation to Apache Syncope Admin Console</h5>
</a>
<p style="color: white;">Apache Syncope already provides powerful, tunable attribute validators, enforced by the Core back-end: what about customizing front-end validation?</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="/www//gallery/tirasa/blog/postgresql.png"></div>
<div class="right-item">
<a href="/blog/benchmarking-apache-syncope-on-postgresql.html" class="purple">
<h5 class="item-title">Benchmarking Apache Syncope on PostgreSQL</h5>
</a>
<p style="color: white;">We put the latest Apache Syncope and PostgreSQL on the bench to try and push to the limit: here are the results</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/connectpa-logo.png"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/connectpa.html" class="purple">
<h5 class="item-title">ConnectPA is starting</h5>
</a>
<p style="color: white;">Tirasa joins Maggioli, Metron and University of L'Aquila to shepherd the Italian Public Administration towards Cloud services</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/plainid.png"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/tirasa-supports-plainid-in-its-dynamic-authorization-integrate-solution.html" class="purple">
<h5 class="item-title">Tirasa supports PlainID in its dynamic authorization integrate solution</h5>
</a>
<p style="color: white;">PlainID and Tirasa announced the release of a PlainID Dynamic Authorization integrate solution, to enhance its Authorization management capabilities</p>
</div>
</div>
<div class="item">
<div class="left-item">
<img src="http://tirasa.github.io/www/gallery/tirasa/site/news/ulss6.jpg"></div>
<div class="right-item">
<a href="http://tirasa.github.io/www/news/yet-another-helthcare-organization-relies-on-tirasa.html" class="purple">
<h5 class="item-title">Yet another healthcare organization relies on Tirasa for IAM</h5>
</a>
<p style="color: white;">AULSS 6 Euganea of Padua makes standard-based Open Source user management and IT authorization</p>
</div>
</div>
</div>
</div>
</div>
    
<div class="one_quarter">
  
<div style="padding-top: 10px;">
    
<a class="twitter-timeline" data-height="400" data-theme="light" href="https://twitter.com/TirasaNet?ref_src=twsrc%5Etfw">Tweets by TirasaNet</a> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  
</div>

</div>
  
</div>
</div>
<div style="background-color: #9293c8;" class="wrapper row2">
<div id="footer" class="clear">
<div class="one_third">
<p class="fl_left" style="font-size: 0.7em;">Tirasa S.r.l. - P.I. 01974100685<br>Powered by <a style="color: whitesmoke" href="http://hct.tirasa.net/" target="_blank">Hippo Cocoon Toolkit</a>
<br>
<a style="color: whitesmoke" href="http://tirasa.github.io/www/privacy-policy.html">Privacy Policy</a>
</p>
</div>
<div class="one_third">
<p style="font-size: 0.7em;">Apache, Syncope, Apache Syncope and the Apache Syncope logo are trademarks of The Apache Software Foundation.</p>
</div>
<script type="text/javascript">
          function year() {
          var theDate=new Date()
          document.write(theDate.getFullYear())}
        </script>
<div class="one_third">
<p class="fl_right" style="font-size: 0.7em;text-align:right;">Copyright &copy; 2011-
            <script type="text/javascript">
              var theDate=new Date();    
              document.write(theDate.getFullYear());
            </script>
            Tirasa S.r.l.<br>All rights reserved<br>Follow our <a style="color: whitesmoke" href="http://tirasa.github.io/www/tirasagram.html">Bot</a> on <a style="color: whitesmoke" href="https://twitter.com/TirasaGram">Twitter</a>
</p>
</div>
</div>
</div>
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "http" : "http") + "://stats.tirasa.net/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "6"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
</body>
</html>
